const sample = `#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#`
const sample2 = `...##..##.#
#.##...###.
.#..###.##.
.#..###.##.
#.###..###.
...##..##.#
#..#..#.##.
#..#.#.#.##
#####...###
##.#...#.#.
#.####..#.#
#.##..#.##.
#..####.###
.#.#..#.#..
.#.#..#.#..`
const puzzle = `##....###.#..
########...#.
##.##.##.#.##
........###.#
........#.#.#
#######.###..
.#.##.#.#....
..####..##..#
##.##.##.##.#
##.##.##.##.#
..####..##..#
.#.##.#.#....
#######.###..
........#.#.#
........###.#

#.###..#..###
.#...##.####.
.#...##.####.
#.###..#..###
.#######.##.#
.#..##.#.#..#
..#..#.##.#..
##..##..###.#
######.##..#.
######.##....
##..##..###.#
..#..#.##.#..
.#..##.#.#..#

#......
#......
....#..
#.#.###
#####..
###.##.
...#.##
#.#.###
####.#.
..##..#
..##..#
####.#.
#.#.###
...#.##
###.##.
###.#..
#.#.###

.......#.
.#..#...#
######.##
#.##.##.#
#.##.##.#
#.##.##.#
#.##.####
######.##
.#..#...#

.##.#..#.##.###
####.#..#######
.##.##.#.######
#..#.#..#..#.##
.##.##.##.###..
..#.#.#.#.#.#..
....#.#..#.####

#####.##.##
.##..#.....
.##..####..
####......#
.##.#.##.#.
....##..##.
......##...

...#.##....##.#..
##..##########..#
.####..#..#..####
######..##..#####
#.##.#.####.#.##.
..##.#.#..#.#.##.
.####.######.####
......##..##.....
#.##.#.#..#.#.##.

#.##.##
######.
.#..#..
#.##.##
.#..#.#
......#
.#..#.#
.#..#.#
#....#.
#....##
#....##
#....#.
.#..#.#
.#..#.#
......#
.#..#.#
#.##.#.

..###.#
.#...##
####...
....###
....###
####...
.#...##

##..##......##...
##..##......##..#
.####.##.##.##.#.
.##.#.#..#..##.##
#.#.#.#.####...#.
.......#.#.#..#.#
######.####....#.
######.####....#.
.......#.#.#..#.#
#.#.#.#.####...#.
.##.#.#..#..##.##
.####.##.##.##.#.
##..##......##..#

...##..
..#....
..#....
..###..
###.#.#
##..#.#
.....##
......#
..#.#..

..##.###...####
......###.##.##
.#.#....##...##
#.#####.##..#..
#.####.###.....
....#.##.#..#..
..#.#.#.###....
..#.#.#.###....
....#.##....#..

###.##..#
.#.......
#.#..#..#
##.##....
.#..#.##.
.##...##.
#....####
.#.#.####
.#.#.####
#....####
.##...##.
.#..#.##.
.#.##....
#.#..#..#
.#.......

###.##..##.###...
.#..######..#.#..
##.#......#.##...
.##..####..##..##
####......####...
##.###..###.##.##
.####....####....
##.##....##.#####
...#.#..#......##
#.#.##..##.#.#...
#.##..##..##.##..
.#..#....#..#....
##....##....#####

###..#..#...#
##...#.#..#..
#..##..######
#..##..######
##...#.#..#..
###..#..#...#
###.##..#....
#.#..#..#.###
#########...#
..#...#..#..#
#.##.####..#.
#####...#..##
#...##..###.#
.###....#...#
.###....##..#

#####...#..####
#.....##..##..#
.....####......
#.##.####..####
#.#.#....#.####
##..##..###.##.
###...#.#.#####
#####.#..##....
....#.#.#.#....
...####.#...##.
.###..#...##..#
#....#....#.##.
..#.#####......
.#.#.#.#.##.##.
.#.###.#.##.##.

.##...##..#
.#.....#..#
###.###.##.
#..##..#..#
#..####....
....#..#..#
..#.####..#
..##....##.
#.#.###.##.
.###..#....
#.#.#.##..#
.#.########
.#.########
#.#.#.##..#
.###..#....
#.#.###.##.
.###....##.

##.#.##.#
##.##..##
..#.#..#.
..##....#
##.##..##
###.####.
..#######
....###..
..###..##
###.####.
..#..##..
##..####.
..#######
...#.##.#
##..#..#.

....####.#.....#.
###.#....#.#.#...
..##..###..#..###
..##..###..#..###
###.#....###.#...
....####.#.....#.
###.####.####.###
.#.#.##.#....#...
.#.#.##.#....#...

#..###...
#..#.#...
.....####
####..#.#
....#.##.
#####.##.
####.#.#.
######.##
.##.#..#.
#####.##.
#..#...#.
#..##..#.
####.#.#.
.##..#...
####..##.
.##.#..##
.##.#.##.

###..###.##.#
....#...#..#.
..#.##..#..#.
..##########.
##...###.##.#
####.##.#..#.
###...#######
...#.###....#
..#..########

.########....####
.##.##.##....##.#
#.#.##.#.####.#.#
..##..##......##.
#..#..#..#..#..#.
#.#.##.#.#..#.#.#
...#..#...##...#.
..######..##..###
.##.##.##....####

###.####..#.#
#########.###
#.####...#...
#.####...#...
##.######.###
###.####..#.#
##.#..#.##...
#..#.##.#...#
..#.########.
..#.########.
#..#.##.#...#

#.#......#.##..#.
##..#..#..##.#.##
.###....###.###.#
.#.##..##.#....#.
####.##..###.####
.###....###.....#
.#.#....#.#..#...
.##.####.##.##...
.##.####.##.##...

###.#.##.####.##.
..#..#...#..#...#
.##..#..#....#..#
...###.#......#.#
##..#.#.#.##.#.#.
.#..#..#..##..#..
.#.....#..##..#..

##.#.#...
.####..##
.####..##
##.#.#...
#...##...
...#..###
.###...#.
###..##..
#.###....

...####
..#.###
..#.###
...####
.###..#
.##....
.#..#..
#..##..
..#.###
..#.###
...##..
.#..#..
.##....
.###..#
...####

......##.###....#
###.#.#.#.#####.#
.###.#...##......
#..#.#.##....##..
.#.#.#..#..######
..#####.....####.
..#..#.#.##......
#.#.#.#.##.#.##.#
.#.#.#..#....##..
..##.#.##.##....#
..##.#.##.##....#
.#.#.#..#....##..
#.#.#.#.##.#.##.#

###.#.##.#.###.##
.#.##.#..##.#....
..##..##..##..###
.#.########.#....
.############.#..
.##..#..#..##..##
.###.#..#.###..##
..#.#.##.#.#.....
..#..####..#..#..

##.###.###..#
##.###.###..#
###..#####..#
##.....#....#
..##..#..####
#..#..##.#..#
#....#.#..##.

.#.#.##
#..##..
..#....
.#.####
##..###
#.#..##
.#.#...
##...##
##...##
.#.#...
###..##

.#.##.###.#...#
#.#....##..#...
#.#....##..#...
.#.##.###.#...#
#.#..###.####.#
....####.##..#.
####.....##.#..
.##.#.###...###
##.#####..###..
#.##..#....#.#.
###..##.#.#.##.
#...#...##.##.#
.#...###....##.
.###...###.#...
.###...###.#.#.

##..##......#
####.##.##.##
....#..#..##.
##.#..##..##.
#.....#....#.
#.....#....#.
##.#..##..##.

###.......#
##...##...#
..#.#..#.#.
..#.#..#.#.
..##.##.##.
...######..
...#.##.#..
...######..
..###..###.

##....#####...#
.###....#.###..
##..##..#.##..#
#..#.##.#..##..
#####........##
..#.#.#.#.###.#
###...#..#..###
.#...##.#.###..
..##......#.##.
.#.#.#.##.####.
#####...#.###.#
.#.##.########.
..######..##...
#..#.#..###..##
#..###..###..##
#..###..###..##
#..#.#..###..##

...#.#.#..#
######....#
.#####.#..#
.##...#.##.
#.#.###....
.#.#.#.####
.#.#.#.####

#######.###.#.#
#..#..####.##.#
.##.....##.#...
#..##..#..####.
#..#.#.###...##
.##...#.#..###.
....#.#.#.##...
.......#..#..#.
........#...##.
#..#..##.##.##.
####.##...#.###
####.##...#.###
#..#..##.#..##.
........#...##.
.......#..#..#.
....#.#.#.##...
.##...#.#..###.

...####....
.#.##...###
###.##.##.#
#.#..#...#.
#.#..#...#.
###.##.##.#
.#.##...###
.#.####....
.#.#...##..
....#..#.##
#.###.#.###
#..####...#
#.#.#.#####
#.#.#.#####
#..####...#

..#.#.#
##..#.#
###.#.#
.....##
...#.#.
##...##
...#.#.
##.#...
##.....

#..#.#.....##
##..##.###..#
##.#.#...####
#..#.##.#####
###..........
.##....#.####
..###.#.##...
..###.#.##...
.##....#.####
###..........
#..#.##.#####
#..#.#...####
##..##.###..#
#..#.#.....##
#..#.#.....##

###.#..#.##
....####...
..#####.##.
#...####...
.###....###
.#...##...#
.#.######.#
.####..####
.####..####
.#.######.#
.#...##...#

####..#
#......
#.#####
...#..#
.#.....
.######
#.#####
...####
#......
.#.....
.#.....
#......
..#####
#.#####
.######
.#.....
...#..#

####........#
.##...####...
.##.#.#..#.#.
######....###
.......##....
####........#
.##.#.....##.
.##...#..#...
....#.####.#.

###.####.
#..#....#
#..######
.#..####.
###......
##.#....#
##.#....#
###......
.##.####.
#..######
#..#....#
###.####.
#.#######

..#.#.###.##.
#..###.##..#.
###..##.#.##.
###..##.#.##.
#..###.##..#.
..#.#.###.##.
#####.####...
..#####....##
###.....##.#.
#.####....#..
.###..##.#..#
.###..##.#..#
#.####....#..
###.....##.#.
..#####....##
#####.####...
..#.#.#.#.##.

###.##..##.
.#.###..###
###...##...
......##...
.##.##..##.
...#..##..#
#.#.######.
#.#.#.##.#.
..###....##
###..#####.
.##.#.##.#.
.##########
.#.........
###...##...
##..#.##.#.
#.##.####.#
#.##.####.#

#.#....
#....##
.#.#...
...#.##
....###
#.#..##
#....##
#....##
#.##.##
....###
...#.##
.#.#...
#....##
#.#....
.##....

#.#..##.#..
.#..#.#....
.#.####.#..
###.#..#...
..###..##..
.#..##.####
..##....#..
.#.####....
...#....#..
.#.##......
.###..###..
.##....#.##
####.#.####
#.#......##
#.#....#.##
####.#.####
.##....#.##

######.#..###
#.##.###.....
##..##....#..
.####.#.###..
.........####
.####..#.....
.####..##..##
..##..####...
.#..##.#..#..
#.##.#..#....
#....#..##...
.####.####...
#########.#..
.####.#.##...
..##..##..###
.#..#...##.##
######....###

....#.#.#
#..#.###.
####....#
.##..#..#
#..#.#.#.
########.
#..##...#
#..##...#
########.
#..#.#.##
.##..#..#
####....#
#..#.###.

...#.##..
####..#.#
.########
.########
####..#.#
...#.##..
######..#
....###.#
....###.#
######..#
...#.##..
####..#.#
.#.######

#.#.##.##..#.
#.......###..
##..##.##..#.
..###....#.#.
.#..##..#.##.
.....####..#.
##..##..###.#
##..##..###.#
.....####..#.
.#..##..#.##.
..###....#.#.
##..#####..#.
#.......###..
#.#.##.##..#.
#.#.##.##..#.
#.......###..
##..#####..#.

##.#.##.....#
##.#.##...#.#
#...##..###..
..#.##.#...##
.#.##.#....#.
.#.##.#....#.
..#.##.#...##

###...##..#....
#..#..#..###..#
.#.#####...#..#
#.##..##..#....
#.......##.....
#.####.....#..#
.....#.#.##.##.
#.#...####.....
#.#...####.....
.....#.#.##.##.
#.#####....#..#

#.#..#..##...
#.#..#..##...
.####..##.#.#
#....#.####..
..#..#.#.##.#
..#...##..###
..#...##..###
..#....#.##.#
#....#.####..

............#.#
.##.##.##.#..#.
.##....##.#..##
#..#..#..#...#.
.########.##.##
#..####..##....
#.######.#...#.
.#......#.#.#..
.#......#.#....

..##..##..##..#
##.####.###....
.#.#..#.#..####
....###........
.###..###...##.
.##.##.##.#....
...#..#...#.##.
#..#..#..#.....
###.##.###..##.
##########.#..#
....##.....#..#

#.#..#.#..#####
#..##..###.#...
...##.....#.###
#......#.......
#.####.#.#.#...
##....#.###.###
...##....##.#..

######...
.......##
##..####.
.#..#.###
.#..#.#.#
.####....
######.#.
.####.##.
.####.###

.######....
#..##..###.
.#....#....
########..#
#.#..#.####
..####.....
.#....#....

..#.####.
..#.####.
..#......
###......
#####..##
.#.##..##
.##.#....
...#....#
...######
#..#.##.#
....####.

.###..###..#.
#..#..#..##..
###....######
.###..###..##
.#..##..#..#.
####..#######
.#.#..#.#..#.
##.#..#.####.
....##.......

...####.##.
...#..#....
###..##.###
####.#....#
##.######..
..#.###.#.#
..#.##..#.#

#.##.#.
##.....
##.....
#.##.#.
.#.##.#
#.#.#.#
....###
....###
#.###.#

..#.###.####.
#.####.######
######.######
..#.###.####.
.#.###.......
.##.....#..#.
##..#..##..##
#.#......##..
...#..###..##
.######.####.
#...##.#.##.#
#..#..#..##..
####.##.#..#.

###.##.########
#.#.....##..##.
####.##........
.#.#...........
.#.#.##########
.#.##..........
.....##.##..##.
..####.########
###.###...##...
#.#....#..##..#
.#..#.#########
...#...#..##..#
......#........
...#..#########
##.#....##..##.

#..##..##.###...#
#......#.##.##.#.
..####..####...##
.#.##.#.##...###.
.#.##.#.##...###.
..####..####...##
#......#.##.##.#.
#..##..##.###...#
.#.##.#.#..##..#.
.#.##.#.##.###.#.
........##....###
##.##.####.......
#..#...###.#...#.
#......#.##..##.#
..#..#...#.##...#

.....#..##..#..
#..#...####...#
....#.#..#.#.#.
....##..##..##.
#..###......###
....#.#....#.#.
########..#####
#..###.#..#.###
....####..####.
.##.###.##.###.
.##...######...
.##.##.#..#.##.
####.###..###.#
.##.###....###.
.....########..
#..#.#..##..#.#
#..##.##..##.##

.#####.#..#.#####
#.#.##......##.#.
.#.#..#.##.#..#.#
.#.#.#......#.#.#
##.#.########.#.#
#....########....
#....########....
##.#.########.#.#
.#.#.#......#.#.#
.#.#..#.##.#..#.#
#.#.##......##.#.
.#####.#..#.#####
##..###.##.###..#
#...##....#.##...
...#.##.##.##.#..
..##..#.##.#..##.
###...######...##

.##..#.
.....#.
#####.#
#..#.##
#..####
.##.###
#..#.#.
....###
.....#.
##.#.##
#..##.#
#..##.#
#..#...
.....#.
.....#.

#.##.#.
.###..#
#####.#
#####.#
.###..#
#.##.#.
.###.##
.#..###
.#..###
.###.##
####.#.
.###..#
#####.#

...#.#.##..
...#.#.##..
.#.##....#.
#..#.#.#..#
.##.#.#..#.
#.#.#.#..##
#....####..
##.##.#....
##.##.#....
#....####..
###.#.#..##
.##.#.#..#.
#..#.#.#..#
.#.##....#.
...#.#.##..

###..####....##
###..####.##.##
.#.##.#..####..
########......#
#......#.####.#
.#.##.#...##...
##.....#......#
##....###....##
.#.##.#.#.##.#.

#.#..##
#.##..#
#..#.#.
#..#.#.
#.##..#
#.#.###
..##...
#####..
.#.#..#
.##.##.
##..#..
.#..###
.#..###

..#..###.##..
#...####.##..
#...####.##..
..#..###.##..
##.####...#..
...#.#...#.##
...##.#..##..
.#...##.###.#
.#.#.##.###.#

.###...
...##..
#.###..
#.###..
.#.##..
.###...
..##...
...####
..#.###
.#.....
.#.....
.##....
#....##
..#....
.######
#...#..
###....

##.....##
..#..####
####..#..
###....##
##.#.#.##
.#..##.##
###.#.#..

#.##..##.#.##.##.
.##.#.#...##....#
.....###.#.#.#..#
....#..##.#.#.##.
.......#.####..##
.....#...#.#..##.
#..##.#..##....#.
#..##.#..##....#.
.....#...#.#..##.
.......#.####..##
....#..##.#.#.##.

###.#..#.###.##..
############.#.#.
##..#..#..#####.#
##..#..#..#####.#
############.#.#.
###.#..#.###.##..
.....##.....#..#.
..########...####
##..#..#..######.
.###....###...#..
..##.##.###.#.#.#
..#......#....###
.###.##.###.#..#.
###.####.######.#
#.#..##..#.###.##

###...#####....
......#....#...
#..#.#......#.#
##.....#..#....
##.############
.#.###.####.###
##.#.#.#..#.#.#
#.#.#...##...#.
#.##.##....##.#
#.###.#....#.##
#.###.#....#.##

.##.######.##.#
#....#..#....#.
##############.
#..#.#..#.#..#.
.##..####..##..
####......#####
#..#.#..#.#..#.

........#.##.#.
......##..##..#
#.######......#
#.##.#..##..##.
.#..#.#..####..
..##..#........
########..##..#
#######..####..
.####...#.##.#.

#.#..#.###..#
##..####.#.#.
.####....###.
.####.#.#.#..
.#..#.....###
..##...#.#...
..##...#.#...
.#..#.....###
.####.#.#.#..
.####....###.
##..####.#.#.

.###....###.#
#..#.##.#..#.
#..#.##.#..#.
.###....###.#
..#......#...
...#....#....
#...#..#...##
#..........#.
............#
##.#.##.#.###
##..#..#...##
..########..#
.##.#..#.##..

..####.##.##.
.#..####.##.#
.....#...#..#
.....#...#..#
.#..####.##.#
..####.##.##.
#...#.##...#.
#..#...#..#.#
..#.#.....#..
...#####.#...
#..#..#.#....
#..#..#.#...#
...#####.#...
..#.#.....#..
#..#...#..#.#
#...#.##...#.
..####.##.##.

..#.#...#
..#.#.#.#
..#..#.#.
.###....#
###..##.#
..###..#.
...##..#.
###.###..
.########
.####....
.#.....##
.##..#...
..#.###..
####.#.##
...#####.
...#####.
####.#.##

##..##..#
####.#...
##..#....
...##..#.
...##..#.
##..#....
####.#...
##..###.#
##.###.##
####..##.
##..#.##.
###.#..##
###.##..#
..#.##.#.
#####....

.##.#.###.#..
....#.##..#..
......#.#....
#..#..#.###..
##########...
.##....#.##.#
#..#..#..#...
.##...####.##
#..#.##.##...

...##...##...#..#
#.#...###.###..#.
##..##..#.#.#####
#......#....###.#
#......#....###.#
##..##..#.#.#####
#.#...###.###..##
...##...##...#..#
.#######...#.....
.#.#...###..###.#
.#...####..#.#...
.#...####..#.#...
.#.#...###..###.#

.####......####..
......####.......
#######..########
.#####.##.#####..
.......##.......#
##..###..###..###
.......##.......#

####..##..#
.##..###..#
.....#.####
.##.#..#..#
.....##....
#..##.#....
......#.###
####.######
#######....
.##.#...##.
#..####....
.##...#####
#..#.######

#..#.####
.....#..#
#..#.....
.....####
#.####..#
.##.#.##.
.##......
#####....
....#....

....####.##..
###.....#.##.
......#..###.
...#######.#.
...#######.#.
......##.###.
###.....#.##.
....####.##..
##..#..#..#.#
##.....#...##
..##.#.#..###
##.##.##.##.#
..#..#..####.
..###.#......
##..#.####..#
##.#.#.##..#.
........#####

####.####.###..
....##..##....#
#####....#####.
.#.###..###.#.#
##.########.##.
#.#.######.#.##
##...####...###
##.#..##..#.###
##.#..##..#.##.
..##.####.##..#
....#.##.#.....
....#.##.#.....
..##.####.##..#

..#.##.#...##
#.######.#.##
.#.#..#.#.###
###....###...
#..##.#..#...
.###..###....
#.#....#.#.##

#....###.####
##..##.##....
##..####..##.
#.##.###.....
....#.#.#####
#.##.##..####
.......######
.#..#..#.#..#
#.##.##..#..#
......####..#
.#..#....#..#
#....#.#..##.
.####..#.####

.#..##.##.##.
.###..####..#
##.####..####
...##########
##..##.##.##.
##...........
.......##....
####..#..#..#
##.#..####..#
#...##.##.##.
..##..####..#
#.#..#....#..
#......##....

...##..##.#
#.##...###.
.#..###.##.
.#..###.##.
#.###..###.
...##..##.#
#..#..#.##.
#..#.#.#.##
#####...###
##.#...#.#.
#.####..#.#
#.##..#.##.
#..####.###
.#.#..#.#..
.#.#..#.#..

.###.......
####.......
.#......#.#
......##..#
#.#..#..#..
.#..##.##..
.#..####...
.####.#.#..
.#.####....
##.#.##..#.
##.#.##..#.

#####.###
.#####.##
..#.#.###
..#.#.##.
.#####.##
#####.###
##.#....#
#..##....
#..##....`

function isPartiallySame(left: string[], right: string[]) {
  // console.log(`${left.join('')} | ${right.join('')}`)
  let mismatch = 0
  for (let i = 0; i < Math.min(left.length, right.length); i++) {
    if (left[i] !== right[i]) {
      return false
    }
  }
  return true
}
function findSymmetries(str: string) {
  if (str.length < 2) return []
  const symmetries: number[] = []
  for (let i = 1; i < str.length; i++) {
    const mirror = str.slice(0, i).split('').reverse()
    const rest = str.slice(i).split('')
    if (isPartiallySame(mirror, rest)) {
      symmetries.push(i)
    }
  }
  console.log(symmetries)
  return symmetries
}

function findMapDifference(map1: string[][], map2: string[][]) {
  let diff = 0
  // console.log(map1.map(row => row.join('')).join('\n'))
  // console.log("Against")
  // console.log(map2.map(row => row.join('')).join('\n'))
  for (let y = 0; y < Math.min(map1.length, map2.length); y++){
    for (let x = 0; x < Math.min(map1[0].length, map2[0].length); x++){
      if (map1[y][x] !== map2[y][x]) {
        diff++
      }
    }
  }
  if (diff === 1) {
    console.log("Found 1 Diff!")
    console.log(map1.map(row => row.join('')).join('\n'))
    console.log("Against")
    console.log(map2.map(row => row.join('')).join('\n'))
  }

  return diff
}

function findColumnSymmetry(pattern: string) {
  let rows = pattern.split('\n')
  for (let i = 1; i < rows[0].length; i++){
    console.log(i)
    const mirror = rows.map(row => row.slice(0, i).split('').reverse())
    const rest = rows.map(row => row.slice(i).split(''))
    const diff = findMapDifference(mirror, rest)
    if (diff === 1) {
      console.log(`FOUND 1!! --> ${i}`)
      return i
    }
    console.log(`${i} ${diff}`)
  }
  // let sym: number[] = []
  // for (let y = 0; y < rows.length; y++) {
  //   const row = rows[y]
  //   const syms = findSymmetries(row)
  //   if (syms.length === 0) {
  //     console.log("No symmetry for this pattern. Skiped!")
  //     return 0
  //   }
  //   if (sym.length === 0) {
  //     sym.push(...syms)
  //   } else {
  //     sym = sym.filter(x => syms.includes(x))
  //     if (sym.length === 0) {
  //       console.log("No common column symmetry. Skipped!")
  //       return 0
  //     }
  //   }
  //   // console.log(sym)
  // }
  // return sym[0] ?? 0
  return 0
}
function findRowSymmetry(pattern: string) {
  let rows = pattern.split('\n')
  for (let i = 1; i < rows.length; i++){
    console.log(i)
    const mirror = rows.slice(0, i).map(row => row.split('')).reverse()
    const rest = rows.slice(i).map(row => row.split(''))
    const diff = findMapDifference(mirror, rest)
    if (diff === 1) {
      console.log(`FOUND 1!! --> ${i}`)
      return i
    }
    console.log(`${i} ${diff}`)
  }

  return 0


  // let sym: number[] = []
  // for (let x = 0; x < rows[0].length; x++) {
  //   const col = rows.map(row => row[x])
  //   const syms = findSymmetries(col.join(''))
  //   if (syms.length === 0) {
  //     console.log("No symmetry for this line. Skiped!")
  //     return 0
  //   }
  //   if (sym.length === 0) {
  //     sym.push(...syms)
  //   } else {
  //     sym = sym.filter(x => syms.includes(x))
  //     if (sym.length === 0) {
  //       console.log("No common row symmetry. Skipped!")
  //       return 0
  //     }
  //   }
  //   // console.log(sym)
  // }
  // return sym[0] ?? 0
}
function solvePattern(pattern: string) {
  console.log()
  console.log(pattern)
  const colSym = findColumnSymmetry(pattern)
  console.log()
  const rowSym = findRowSymmetry(pattern)
  console.log(`colSym: ${colSym} | rowSym: ${rowSym}`)
  return colSym + 100 * rowSym
}
export default async function Page() {
  const input = puzzle.split('\n\n')
  let sum = input.map(solvePattern).reduce((p, c) => p + c, 0)
  console.log(sum + '\n\n\n\n')
  return sum
}

/**
###.##..#
.#.......
#.#..#..#
##.##....
.#..#.##.
.##...##.
#....####
.#.#.####
.#.#.####
#....####
.##...##.
.#..#.##.
.#.##....
#.#..#..#
.#.......
 */


/**
...##..##.#
#.##...###.
.#..###.##.
.#..###.##.
#.###..###.
...##..##.#
#..#..#.##.
#..#.#.#.##
#####...###
##.#...#.#.
#.####..#.#
#.##..#.##.
#..####.###
.#.#..#.#..
.#.#..#.#..
 */